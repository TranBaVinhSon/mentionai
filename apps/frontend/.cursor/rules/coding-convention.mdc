---
description: 
globs: 
alwaysApply: true
---
# MentionAI Project Style Guide

## Core Principles

### Component Usage Priority
1. **shadcn/ui First**:
   - Always check shadcn/ui components before creating custom ones
   - Available at `src/components/ui/`
   - Common components: Button, Input, Badge, Card, Dialog, etc.
   - Use shadcn variants and modify via className when needed

2. **File Size and Component Structure**:
   - Maximum file size: 500 lines
   - When exceeding 500 lines:
     - Split into smaller components
     - Create feature-specific folders
     - Use index.tsx for exports
   - Example structure:
     ```
     feature/
     ├── index.tsx           # Exports
     ├── feature-main.tsx    # Main component
     ├── components/         # Sub-components
     │   ├── feature-header.tsx
     │   ├── feature-content.tsx
     │   └── feature-footer.tsx
     └── hooks/             # Feature-specific hooks
         └── use-feature.ts
     ```

## Colors

### Primary Colors
- Primary: Used for main actions, important UI elements
  - Default: Orange-based colors
  - Hover: `hover:bg-primary/90`
  - Light: `bg-primary/10` for subtle backgrounds
  - Border: `border-primary/50` for hover states

### Secondary Colors
- Green: Used for status indicators and success states
  - Badge: `from-green-600 to-green-500` for gradient badges
  - Status: `bg-green-500` for online indicators
  - Light: `bg-green-500/10` for subtle backgrounds
  - Text: `text-green-600 dark:text-green-400`

### Neutral Colors
- Background: System background colors
  - Light: `bg-background`
  - Dark: Handled by dark mode theme
- Border: System border colors
  - Default: `border-border`
  - Hover: `hover:border-primary/50`
- Text:
  - Primary: `text-foreground`
  - Secondary: `text-muted-foreground`
  - Muted: `text-foreground/60`

## Components
=======
## Project Structure

### Directory Organization
```
src/
├── app/                    # Next.js app router pages
├── components/            # React components
│   ├── ui/               # Reusable UI components (shadcn)
│   ├── home/             # Home page components
│   ├── chat/             # Chat-related components
│   ├── layout/           # Layout components
│   ├── icons/            # Icon components
│   └── shared/           # Shared components
├── hooks/                # Custom React hooks
├── store/                # State management
├── utils/                # Utility functions
├── services/             # API services
├── lib/                  # Core libraries
├── styles/               # Global styles
├── theming/             # Theme configuration
└── @types/              # TypeScript type definitions
```

## Color System

### Base Colors
Refer [globals.css](mdc:src/app/globals.css) and [tailwind.config.ts](mdc:tailwind.config.ts)
#### Primary Colors
- Primary: Used for main actions and UI elements

#### Secondary Colors
- Secondary: Used for secondary UI elements

#### Accent Colors
- Accent: Used for emphasis and highlights
 
#### Semantic Colors
- Destructive: Used for error states and destructive actions
- Link: Used for hyperlinks and interactive text
 

#### System Colors
- Background: Base page background
  
- Border: Default border colors
  
- Muted: Used for subtle UI elements
  
### Color Usage Standardization

#### 1. Theme Color Variables
Always use CSS variables for colors instead of hardcoded values:
```tsx
// ❌ Don't use hardcoded colors
"bg-blue-500"
"text-gray-600"

// ✅ Use theme variables
"bg-primary"
"text-muted-foreground"
```

#### 2. Gradient Colors
Use theme colors for gradients:
```tsx
// ❌ Don't use hardcoded gradient colors
"bg-gradient-to-r from-blue-100/50"

// ✅ Use theme variables
"bg-gradient-to-r from-primary/50"
"bg-gradient-to-r from-accent/50"
```

#### 3. Opacity Modifiers
Use consistent opacity values:
```tsx
"bg-primary/10"    // Very subtle background
"bg-primary/20"    // Subtle background
"bg-primary/50"    // Medium emphasis
"bg-primary/80"    // High emphasis
"bg-primary/90"    // Very high emphasis
```

#### 4. Interactive States
Use consistent hover and active states:
```tsx
"hover:bg-primary/90"
"hover:bg-secondary/80"
"active:bg-accent/70"
```

#### 5. Text Colors
Use semantic color naming:
```tsx
"text-foreground"          // Default text
"text-muted-foreground"    // Secondary text
"text-primary-foreground"  // Text on primary background
"text-destructive"         // Error text
```

#### 6. Borders and Rings
Use theme border colors:
```tsx
"border-border"            // Default border
"ring-ring"               // Focus ring
"border-input"            // Form input border
```

#### 7. Status Colors
Use semantic colors for status:
```tsx
"text-destructive"        // Error
"bg-primary/10"          // Info
"bg-accent/20"           // Warning
"text-muted-foreground"  // Disabled
```

### Dark Mode Support
All color tokens have dark mode variants. Use the `.dark` class prefix:
Refer
[globals.css](mdc:src/app/globals.css) [tailwind.config.ts](mdc:tailwind.config.ts)

### Color Migration Guide

1. **Audit Existing Colors**:
   - Search for hardcoded Tailwind colors
   - Identify custom RGB/HSL values
   - List gradient color usage

2. **Replace with Theme Colors**:
   - Map hardcoded colors to theme variables
   - Update gradients to use theme colors
   - Standardize opacity values

3. **Test Dark Mode**:
   - Verify color contrast in dark mode
   - Check component states (hover, active, disabled)
   - Validate accessibility compliance

4. **Document Exceptions**:
   - List any approved custom colors
   - Explain why they deviate from theme
   - Plan for future standardization

## Component Patterns

### Badges
```tsx
// Standard Badge
<Badge variant="outline" className="text-muted-foreground hover:bg-accent transition-colors" />

// Gradient Badge (Personal AI)
<Badge variant="outline" className="text-[10px] px-2 py-0.5 bg-gradient-to-r from-green-600 to-green-500 text-white rounded-full font-medium flex items-center shadow-sm" />
```

### Cards
```tsx
// Standard Card
<div className="relative overflow-hidden bg-background rounded-xl border shadow-sm hover:border-primary/50 transition-colors">
  {/* Content */}
</div>
```

### Buttons
```tsx
// Primary Button
<Button className="w-full">
  {/* Content */}
</Button>

// Secondary Button
<Button variant="secondary" size="sm" className="text-xs sm:text-sm" />

// Ghost Button
<Button variant="ghost" size="sm" />
```

### Icons
- Standard size: `w-4 h-4`
- Medium size: `w-5 h-5`
- Large size: `w-6 h-6`
- Social icons: `w-3 h-3`

### Typography
- Headings:
  ```tsx
  // Large Title
  <h1 className="text-2xl md:text-3xl font-bold">
  
  // Section Title
  <h2 className="text-xl md:text-2xl font-medium">
  
  // Subtitle
  <h3 className="text-sm font-medium text-muted-foreground">
  ```
- Body Text:
  ```tsx
  // Regular
  <p className="text-sm text-muted-foreground">
  
  // Small
  <span className="text-xs text-muted-foreground">
  ```

### Layout
- Container:
  ```tsx
  <div className="flex flex-col items-center w-full flex-grow max-w-3xl">
  ```
- Grid:
  ```tsx
  <div className="grid grid-cols-1 md:grid-cols-2 gap-2">
  ```
- Spacing:
  - Vertical: `space-y-2`, `space-y-3`, `space-y-4`
  - Horizontal: `space-x-2`, `space-x-3`, `space-x-4`
  - Margin: `mb-4`, `mb-6`, `mb-8`
  - Padding: `p-4`, `p-6`, `px-4 py-5`
```tsx
// Headings
<h1 className="text-2xl md:text-3xl font-bold">
<h2 className="text-xl md:text-2xl font-medium">
<h3 className="text-sm font-medium text-muted-foreground">

// Body Text
<p className="text-sm text-muted-foreground">
<span className="text-xs text-muted-foreground">
```

### Layout
```tsx
// Container
<div className="flex flex-col items-center w-full flex-grow max-w-3xl">

// Grid
<div className="grid grid-cols-1 md:grid-cols-2 gap-2">

// Spacing
space-y-2 space-y-3 space-y-4      // Vertical
space-x-2 space-x-3 space-x-4      // Horizontal
mb-4 mb-6 mb-8                     // Margin
p-4 p-6 px-4 py-5                  // Padding
```

### Forms
```tsx
// Input
<Input className="text-sm" />

// Text Area
<Textarea className="min-h-[100px]" />

// Form Field
<FormField
  control={form.control}
  name="name"
  render={({ field }) => (
    <FormItem>
      <FormLabel>Name</FormLabel>
      <FormControl>
        <Input {...field} />
      </FormControl>
      <FormMessage />
    </FormItem>
  )}
/>
```

### Responsive Design
- Mobile First:
  - Base: Default styles
  - sm: `@media (min-width: 640px)`
  - md: `@media (min-width: 768px)`
  - lg: `@media (min-width: 1024px)`
  - xl: `@media (min-width: 1280px)`
```tsx
// Mobile First Approach
"text-sm md:text-base lg:text-lg"     // Typography
"grid-cols-1 md:grid-cols-2"          // Layout
"hidden md:block"                      // Visibility

// Breakpoints
sm: 640px
md: 768px
lg: 1024px
xl: 1280px
```

### Transitions
```tsx
// Standard Transitions
className="transition-colors duration-300"
className="hover:bg-accent transition-colors"
```

### Dark Mode Support
- Use system colors that support dark mode automatically
- For custom colors:
  ```tsx
  className="bg-white dark:bg-black"
  className="text-gray-900 dark:text-gray-100"
  className="border-gray-200 dark:border-gray-800"
  ```

## Best Practices

1. Always use the design system's color tokens instead of hard-coded colors
2. Maintain consistent spacing using the predefined spacing scale
3. Use responsive classes with mobile-first approach
4. Implement hover states for interactive elements
5. Ensure proper dark mode support
6. Use semantic HTML elements
7. Maintain accessibility standards with proper ARIA attributes
8. Use CSS Grid for complex layouts and Flexbox for simpler alignments

## Component Architecture

1. Shared Components:
   - Located in `src/components/ui/`
   - Base components like Button, Input, Badge
   - Consistent styling across the application

2. Feature Components:
   - Located in feature-specific directories
   - Compose shared components
   - Implement business logic

3. Layout Components:
   - Handle page structure
   - Manage responsive behavior
   - Handle navigation and routing

4. Page Components:
   - Located in `src/app/`
   - Compose feature components
   - Handle data fetching and state management
=======
"transition-colors duration-200"
"hover:bg-accent transition-colors"
```

## Best Practices

### 1. Component Props
```typescript
interface ComponentProps extends React.HTMLAttributes<HTMLElement> {
  variant?: "default" | "secondary"
  size?: "sm" | "md" | "lg"
}
```

### 2. Accessibility
```typescript
// ARIA Labels
"sr-only"                    // Screen reader only
"aria-label="description""   // Descriptive labels
"role="button""             // Semantic roles
```

### 3. Code Quality
- Maximum file size: 500 lines
- Split components when exceeding limit
- Use feature folders for complex features

### 4. Naming Conventions
- PascalCase for components
- camelCase for functions and variables
- kebab-case for file names
- UPPER_CASE for constants

### 5. Import Order
1. React and Next.js imports
2. External libraries
3. Internal components
4. Hooks and utilities
5. Types and interfaces
6. Styles

### 6. Error Handling
```typescript
// Error Messages
"text-[0.8rem] font-medium text-destructive"

// Error Borders
"border-destructive"

// Loading States
"animate-spin text-muted-foreground"
"animate-pulse bg-primary/10"
```

### 7. Image Handling
```typescript
// Responsive Images
"object-cover w-full h-full"
"aspect-square rounded-full"
```

## State Management

### 1. Hooks Pattern
```typescript
export function useFeature() {
  const [state, setState] = useState()
  
  useEffect(() => {
    // Side effects
  }, [dependencies])

  return {
    state,
    actions
  }
}
```

### 2. Store Pattern (Zustand)
```typescript
export const useStore = create<StoreState>((set) => ({
  state: initialState,
  actions: {
    updateState: (newState) => set({ state: newState })
  }
}))
```

## Icon System

### Icon Packages
1. **Primary Icon Libraries**:
   ```typescript
   // Available icon packages
   import { ... } from "lucide-react"        // UI/Navigation icons
   import { ... } from "hugeicons-react"     // AI/Feature specific icons
   import { ... } from "@radix-ui/react-icons" // System/UI component icons
   ```

2. **Custom Icons**:
   - Located in `src/components/icons/`
   - Used for brand/product specific icons
   - Follow consistent interface:
   ```typescript
   interface IconProps extends React.HTMLAttributes<SVGElement> {
     size?: number;
   }
   ```

### Icon Usage Guidelines

#### 1. Icon Selection Priority
1. **UI Components**: Use `@radix-ui/react-icons` for shadcn/ui components
2. **Navigation/Interface**: Use `lucide-react` for general UI elements
3. **AI/Features**: Use `hugeicons-react` for AI-specific features
4. **Brand/Product**: Use custom icons from `src/components/icons/`

#### 2. Standard Sizes
```typescript
// Default icon sizes
"size-3": "0.75rem" // 12px - Tiny icons
"size-4": "1rem"    // 16px - Default size
"size-5": "1.25rem" // 20px - Medium icons
"size-6": "1.5rem"  // 24px - Large icons
"size-8": "2rem"    // 32px - Extra large

// Usage example
<Icon className="size-4 md:size-5" />
```

#### 3. Color System Integration
```typescript
// Theme-aware coloring
"text-foreground"           // Default icon color
"text-muted-foreground"     // Secondary icons
"text-primary"              // Primary actions
"text-destructive"          // Destructive actions
"text-accent-foreground"    // Accent icons

// Usage example
<Icon className="text-muted-foreground hover:text-foreground" />
```

#### 4. Brand Icons
```typescript
// Model/Brand specific icons
import { 
  OpenAIIcon,
  ClaudeIcon,
  LLamaIcon,
  StableDiffusionIcon,
  GoogleIcon,
  TwitterXIcon,
  NvidiaIcon,
  DeepSeekIcon,
  PerplexityLogo
} from "@/components/icons";

// Usage with ModelLogo component
<ModelLogo model="gpt-4" size={16} />
```

#### 5. Interactive States
```typescript
// Hover states
"hover:text-accent"
"hover:opacity-80"
"active:scale-95"

// Disabled states
"opacity-50 pointer-events-none"

// Loading states
"animate-spin"
```

#### 6. Icon Button Patterns
```typescript
// Icon button with tooltip
<TooltipProvider>
  <Tooltip>
    <TooltipTrigger asChild>
      <Button variant="ghost" size="icon">
        <Icon className="size-4" />
        <span className="sr-only">Action name</span>
      </Button>
    </TooltipTrigger>
    <TooltipContent>Action description</TooltipContent>
  </Tooltip>
</TooltipProvider>

// Icon with text
<Button>
  <Icon className="mr-2 size-4" />
  <span>Label</span>
</Button>
```

#### 7. Accessibility
```typescript
// Always include sr-only labels
<button>
  <Icon />
  <span className="sr-only">Action description</span>
</button>

// Use aria-label for interactive icons
<button aria-label="Close dialog">
  <Icon />
</button>
```

### Icon Component Template
```typescript
import * as React from "react";

export const CustomIcon = ({
  size = 20,
  ...props
}: React.HTMLAttributes<SVGElement> & { size?: number }) => (
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width={size}
    height={size}
    viewBox="0 0 24 24"
    className="fill-current"
    {...props}
  >
    {/* SVG paths */}
  </svg>
);
```

### Best Practices

1. **Performance**:
   - Use appropriate icon package based on use case
   - Avoid loading entire icon libraries
   - Import icons individually

2. **Consistency**:
   - Maintain consistent size within contexts
   - Use standard color tokens
   - Follow established hover/active states

3. **Accessibility**:
   - Always include screen reader text
   - Ensure sufficient color contrast
   - Add appropriate ARIA labels

4. **Responsive Design**:
   - Use size utilities for different breakpoints
   - Consider touch targets on mobile
   - Adjust icon sizes for different devices
``` 
